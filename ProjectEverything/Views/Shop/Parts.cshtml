@{
    ViewData["Title"] = "Parts";
}
@model AllProductsQuaryModel

<div class="row">

    <form method="get">
        <div class="form-group col-md-3">
            <div class="form-group">
                <label asp-for="SearchTerm"></label>
                <input asp-for="SearchTerm" class="form-control" placeholder="Cabel,Boiler..." />
            </div>
        </div>
        <input type="submit" class="btn btn-primary mt-2" value="Search" />
    </form>
</div>
<div class="row">
    @foreach (var product in Model.Products)
    {
        <div class="sizeCard col-md-4">
            <h2 class="text-center mt-4">@product.Part</h2><span class="badge bg-secondary mb-2">New</span>
            <div class="card">
                <img src="@product.ImageUrl" class="card-img-top" alt="@product.Part">
                <div class="card-body">
                    <p class="card-text">Price - @product.Price BGN</p>
                    <p class="card-text">Yaer - @product.Year</p>
                    <p class="card-text">Description - @product.Description</p>
                    @using (Html.BeginForm("AddToCart", "Shop", new { productId = product.Id }, FormMethod.Post))
                    {                 
                        <button class="btn btn-primary r" type="submit" name="addToCart" value="btnAdd">Add to cart</button>
                    }
                    <span class="badge bg-primary rounded-pill float-end">Quantity - @product.Quantity </span>

                </div>
            </div>
        </div>
    }
</div>
<div class="row">

    <div class="col-md-6">
        <a class="btn btn-primary @(Model.CurrentPage==1 ?"disabled":string.Empty) mt-3" asp-controller="Shop" asp-action="Parts" asp-route-currentPage="@(Model.CurrentPage-1)"><<</a>
    </div>


    <div class="col-md-6">
        <a class="btn btn-primary @(Model.CurrentPage==Model.Products.Count()/AllProductsQuaryModel.PartsPerPage ?string.Empty:"disabled") float-right mt-3" asp-controller="Shop" asp-action="Parts" asp-route-currentPage="@(Model.CurrentPage+1)">>></a>
    </div>
</div>


